<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Akash Melachuri</title>
        <script id="vertex" type="x-shader/x-vertex">
            varying vec2 vUv;

            void main() {
                vUv = uv;
                gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
            }
        </script>
        <script id="fragment" type="x-shader/x-fragment">
            varying vec2 vUv;

            uniform sampler2D density;
            uniform bool click;

            void main() {
                gl_FragColor = vec4(floor(2. * sin(vUv)), 0, 1);
            }
        </script>
        <script id="advection" type="x-shader/x-fragment">
            varying vec2 vUv;

            uniform bool click;
            uniform sampler2D source;
            uniform sampler2D velocity;
            uniform vec2 size;
            
            vec4 bilerp(in vec2 coords, in sampler2D qty)
            {
              vec4 st;
              st.xy = (floor(coords * size - 0.5) + 0.5) / size; 
              st.zw = st.xy + 1.0 / size; 
             
              vec4 t11 = texture2D(qty, st.xy);
              vec4 t21 = texture2D(qty, st.zy);
              vec4 t12 = texture2D(qty, st.xw);
              vec4 t22 = texture2D(qty, st.zw);
              
              vec2 factor = (coords - st.xy) * size; 

              return mix(mix(t11, t21, factor.x), mix(t12, t22, factor.x), factor.y);
            }

            void main() {
                vec2 pos = vUv - texture2D(velocity, vUv).xy;
                gl_FragColor = bilerp(vUv, source);
                // gl_FragColor = texture2D(source, vUv);
            }
        </script>
    </head>
    <body>
        <div id="container">
            <canvas id="c"></canvas>
            <div id="content"> 
                <h1 style="color:White;transform: translate(-50%, -50%);">
                    Akash Melachuri
                </h1>
            </div>
        </div>
    </body>
</html>
